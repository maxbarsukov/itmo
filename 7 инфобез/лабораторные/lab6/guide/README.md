# Руководство по выполнению Работы №6

## Часть 1. Симметричное шифрование с VeraCrypt

### Шаг 1. Установка VeraCrypt

1. Перейдите на официальный сайт: [veracrypt.io/ru/](https://veracrypt.io/ru/Home.html).
2. Скачайте и установите программу, соответствующую вашей операционной системе (Windows, macOS или Linux).

### Шаг 2. Создание зашифрованного контейнера

1. Запустите VeraCrypt.
2. Нажмите **«Volumes»** → **«Create Volume»** → **«Create an encrypted file container»** → **«Standard VeraCrypt volume»**.
3. Выберите место сохранения контейнера (например, `C:\Users\ВашеИмя\Documents\my_container.hc`).
4. Выберите алгоритм шифрования (по умолчанию AES — подходит).
5. Укажите размер (например, 50 МБ — достаточно для теста).
6. Установите **надёжный пароль** (минимум 12 символов, буквы + цифры + спецсимволы).
7. Выберите файловую системы (`FAT` / `ext4`).
8. Двигайте мышкой, чтобы собрать случайные значения для ключей шифрования.
9. Отформатируйте том (нажмите **«Format»**). Это создаст зашифрованный файл-контейнер.

### Шаг 3. Монтирование тома и работа с ним

1. В главном окне VeraCrypt выберите свободный диск (например, `Z:` или `37`).
2. Нажмите **«Select File»**, укажите путь к созданному контейнеру.
3. Нажмите **«Mount»**, введите пароль.
4. Откройте проводник — появится новый диск (например, `Локальный диск (Z:)` или `/run/media/veracrypt37`).
5. Скопируйте в него 2–3 текстовых файла или изображения.
6. После завершения работы нажмите **«Unmount»** в VeraCrypt.

### Шаг 4. Подготовка отчёта

- Сделайте **скриншот** главного окна VeraCrypt с **смонтированным томом** (должен быть виден статус **«Mounted»** и буква диска).

## Часть 2. Асимметричное шифрование с PGP

> [!NOTE]
> Вариант 1: через Thunderbird + Enigmail (устаревший, но возможен) \
> Вариант 2 (рекомендуется): через **GnuPG (GPG)** в командной строке или онлайн-инструменты (например, [https://pgpkeygen.com](https://pgpkeygen.com))

### Шаг 1. Установи GnuPG (если ещё не установлен)

- Windows: [https://gpg4win.org](https://gpg4win.org)
- macOS: `brew install gpg`
- Linux: `sudo apt install gnupg`, `sudo pacman -S gnupg`, etc. (Обычно `gpg` уже предустановлен, но проверить не помешает).

### Шаг 2. Сгенерируй свою пару ключей

Выполни в терминале:

```bash
gpg --full-generate-key
```

Теперь отвечай на вопросы:

1. **Тип ключа**: введи `1` (выберется `RSA and RSA`).
2. **Длина ключа**: введи `4096` → Enter.
3. **Срок действия**: введи `0` (бессрочно) или `1y` (один год) → Enter → подтверди `y`.
4. **Имя**: введи своё имя (например, `Ivan Petrov`).
5. **Email**: введи свой email (можно учебный или вымышленный, например `ivan@student.university.edu`).
6. **Комментарий**: можно оставить пустым → просто нажми Enter.
7. Проверь данные → введи `O` (от английского *Okay*).
8. Придумай **надёжную фразу-пароль (passphrase)** — запомни её! Она нужна для защиты закрытого ключа.

Готово! Ключи созданы и сохранены в `~/.gnupg/`.

### Шаг 3. Экспортируй свой открытый ключ в файл

Сначала посмотри список ключей:

```bash
gpg --list-keys
```

Пример вывода:

```
pub   rsa4096 2024-05-20 [SC]
      ABCD1234EFGH5678IJKL9012MNOP3456QRST7890
uid           [ultimate] Ivan Petrov <ivan@student.university.edu>
sub   rsa4096 2024-05-20 [E]
```

Теперь экспортируй открытый ключ в файл (в формате ASCII — «armored»):

> [!NOTE]
> Замени email на тот, что ты указал при генерации.

```bash
gpg --export --armor "ivan@student.university.edu" > public_key.asc
```

Файл `public_key.asc` — это твой **публичный PGP-ключ**, его нужно сдать.

Проверь содержимое:

```bash
cat public_key.asc
```

Ты должен увидеть текст, начинающийся с:

```
-----BEGIN PGP PUBLIC KEY BLOCK-----
```

### Шаг 4. (Опционально) Зашифруй и отправь сообщение одногруппнику

Допустим, твой одногруппник прислал тебе свой `public_key_friend.asc`.

#### 4.1. Импортируй его открытый ключ

```bash
gpg --import public_key_friend.asc
```

#### 4.2. Посмотри, что ключ добавился

```bash
gpg --list-keys
```

Найди email друга, например: `friend@student.university.edu`.

#### 4.3. Создай текстовое сообщение:

```bash
echo "Привет! Это секретное сообщение для тебя." > secret_message.txt
```

#### 4.4. Зашифруй его открытым ключом друга

```bash
gpg --encrypt --armor --recipient friend@student.university.edu secret_message.txt
```

Появится файл `secret_message.txt.asc`.

#### 4.5. Отправь этот файл другу

> [!NOTE]
> Только тот, у которого есть **закрытый ключ**, сможет расшифровать это сообщение!

```bash
cat secret_message.txt.asc
```

#### 4.6. (Если друг зашифрует тебе) — как расшифровать полученное сообщение

Если тебе пришлют файл `message_from_friend.asc`, просто:

```bash
gpg --decrypt message_from_friend.asc
```

Введи свою **passphrase** — и увидишь исходный текст.

### Шаг 5. Подготовка отчёта

- Сохраните файл `public_key.asc` — он сдаётся как часть работы.

## Часть 3. Теоретическое задание

Напишите **краткое описание разницы между симметричным и асимметричным шифрованием** (2–4 предложения). Пример:

> В симметричном шифровании один и тот же секретный ключ используется и для шифрования, и для расшифровки. В асимметричном шифровании используются два ключа: открытый (публичный) для шифрования и закрытый (приватный) — для расшифровки. Асимметричная криптография решает проблему безопасной передачи ключа, но работает медленнее, поэтому на практике часто комбинируют оба подхода.

## Что сдавать

Отправляете на почту отчет (для составления можно использовать [шаблон отчёта](../docs/template.docx)) и файл с вашим открытым PGP-ключом.

---

## Лицензия <a name="license"></a>

Проект доступен с открытым исходным кодом на условиях [Лицензии MIT](https://opensource.org/licenses/MIT). \
*Авторские права 2025 Max Barsukov*

Поставьте звезду :star:, если вы нашли этот проект полезным.
