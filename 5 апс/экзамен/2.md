**Controller** (Контроллер) - паттерн проектирования GRASP, который можно отнести к категории шаблонов проектирования, связанных с распределением ответственности.

Обязанности по обработке входящих системных сообщений необходимо делегировать специальному объекту Controller'у. Controller — это объект, который отвечает за обработку системных событий, и при этом не относится к интерфейсу пользователя. Controller определяет методы для выполнения системных операций. Контролер отвечает за обработку запросов и решает, кому их делегировать на выполнение. Контроллер отделяет логику обработки от представления, обеспечивая таким образом лучшую модульность и расширяемость системы.

# Задачи

1. Управление потоком управления: Controller отвечает за обработку входных данных и управление потоком выполнения в приложении. Он принимает запросы от пользователя или других системных компонентов и определяет, какие действия необходимо выполнить.
2. Разделение обязанностей: Шаблон помогает отделить бизнес-логику от интерфейса пользователя. Это упрощает тестирование и поддержку кода, так как различные аспекты системы могут быть изменены независимо друг от друга.
3. Инкапсуляция взаимодействия: Controller инкапсулирует взаимодействие между пользовательским интерфейсом и бизнес-логикой, позволяя изменять один из компонентов, не затрагивая другой.
4 .Управление потоком данных: Контроллер обрабатывает входные данные от пользователей, передает их в соответствующие модели для обработки и возвращает результаты обратно в представление для отображения.
5. Организация взаимодействия между компонентами: Контроллер управляет взаимодействием между различными компонентами приложения, такими как модели и представления, упрощая их интеграцию и взаимодействие.

# Ограничения

Несмотря на свои преимущества, паттерн контроллера может привести к некоторым ограничениям:

1. Увеличение сложности архитектуры: Внедрение контроллера может усложнить архитектуру приложения, особенно в больших системах, где может возникнуть множество контроллеров, управляющих различными частями приложения. Это может затруднить понимание структуры проекта и взаимодействия между компонентами.
2. Концентрация обязанностей: Контроллеры часто становятся точками перегрузки, где концентрируются слишком много обязанностей, что приводит к их усложнению и затрудняет поддержку. Когда контроллер выполняет множество операций (например, управление бизнес-логикой, обработка событий и взаимодействие с данными), его сложно тестировать и изменять. Пример: В интернет-магазине контроллер может одновременно обрабатывать запросы пользователей, контролировать аутентификацию, управлять корзиной и выполнять проверки заказов, что приводит к увеличению сложности кода.
Потенциальная перегрузка контроллера: Если контроллер становится слишком сложным и начинает выполнять слишком много задач, это может привести к его перегрузке. В результате контроллер может стать трудно поддерживаемым и трудным для тестирования.
3. Трудности тестирования: Высокая связность контроллера с другими компонентами системы делает его сложным для тестирования. Часто для тестирования контроллера требуется настройка множества других объектов или компонентов, что увеличивает стоимость тестирования. Пример: Тестирование контроллера в веб-приложении, который управляет входом пользователя, может потребовать создания моков для базы данных и других сервисов.
4. Изменение влияет на всю систему: Контроллеры часто напрямую взаимодействуют с множеством других компонентов системы. Если контроллер меняется, это может повлиять на большое количество классов и функциональности, что делает систему менее устойчивой к изменениям. Пример: В банковской системе, если контроллер изменяется, чтобы поддерживать новый тип транзакции, это может затронуть все операции и процессы, связанные с переводами.
5. Риск создания "божественного" объекта: Контроллер может стать "божественным объектом" (Класс, который хотел быть всем сразу. У него была и бизнес‑логика, и данные, и контроллеры, и, кажется, даже немного души), который берет на себя больше обязанностей, чем должен. Это нарушает принцип единой ответственности SRP и делает код сложным для поддержки. Пример: В системе управления проектами контроллер может начать обрабатывать не только запросы пользователей, но и логику аутентификации, валидацию данных и генерацию отчетов.
6. Сложности с поддержкой состояния: В некоторых случаях управление состоянием между контроллерами может быть затруднено, особенно если приложение требует сложной логики обработки состояния.

# Пример

[UML диаграмма примера реализации Controller для Mortal Combat](https://i.sstatic.net/s09Y0.png)
