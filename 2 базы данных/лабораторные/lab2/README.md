# Лабораторная работа [#2](https://se.ifmo.ru/courses/db#lab2)

## Вариант 1501

По варианту, выданному преподавателем, составить и выполнить запросы к базе данных "Учебный процесс".

Команда для подключения к базе данных `ucheb`:

```bash
psql -h pg -d ucheb
```

### Задание

Составить запросы на языке SQL (пункты 1-7).

1. Сделать запрос для получения атрибутов из указанных таблиц, применив фильтры по указанным условиям:
`Н_ТИПЫ_ВЕДОМОСТЕЙ`, `Н_ВЕДОМОСТИ`.
Вывести атрибуты: `Н_ТИПЫ_ВЕДОМОСТЕЙ.НАИМЕНОВАНИЕ`, `Н_ВЕДОМОСТИ.ДАТА`.
Фильтры (`AND`):
a) `Н_ТИПЫ_ВЕДОМОСТЕЙ.НАИМЕНОВАНИЕ = Ведомость`.
b) `Н_ВЕДОМОСТИ.ЧЛВК_ИД > 163249`.
Вид соединения: `RIGHT JOIN`.

2. Сделать запрос для получения атрибутов из указанных таблиц, применив фильтры по указанным условиям:
Таблицы: `Н_ЛЮДИ`, `Н_ОБУЧЕНИЯ`, `Н_УЧЕНИКИ`.
Вывести атрибуты: `Н_ЛЮДИ.ИМЯ`, `Н_ОБУЧЕНИЯ.ЧЛВК_ИД`, `Н_УЧЕНИКИ.ИД`.
Фильтры: (`AND`)
a) `Н_ЛЮДИ.ИМЯ < Александр`.
b) `Н_ОБУЧЕНИЯ.ЧЛВК_ИД > 163276`.
c) `Н_УЧЕНИКИ.ГРУППА = 3100`.
Вид соединения: `INNER JOIN`.

3. Вывести число фамилий без учета повторений. При составлении запроса нельзя использовать `DISTINCT`.

4. Найти группы, в которых в 2011 году было ровно 10 обучающихся студентов на ФКТИУ. Для реализации использовать подзапрос.

5. Выведите таблицу со средним возрастом студентов во всех группах (Группа, Средний возраст), где средний возраст меньше среднего возраста в группе 1100.

6. Получить список студентов, отчисленных до первого сентября 2012 года с очной или заочной формы обучения (специальность: Программная инженерия). В результат включить: *номер группы*; *номер, фамилию, имя и отчество студента*; *номер пункта приказа*. Для реализации использовать подзапрос с `EXISTS`.

7. Вывести список людей, не являющихся или не являвшихся студентами ФКТИУ (данные, о которых отсутствуют в таблице `Н_УЧЕНИКИ`). В запросе нельзя использовать `DISTINCT`.

### Отчёт по лабораторной работе должен содержать:

1. Текст задания.
2. Реализацию запросов на SQL.
3. Выводы по работе.

### Темы для подготовки к защите лабораторной работы:

1. SQL
2. Соединение таблиц
3. Подзапросы

## Выполнение

- [Скрипт](./script.sql)
- [Отчёт](./docs/report.pdf)

---

## Лицензия <a name="license"></a>

Проект доступен с открытым исходным кодом на условиях [Лицензии GNU GPL 3](https://opensource.org/license/gpl-3-0/). \
*Авторские права 2025 Max Barsukov*

**Поставьте звезду :star:, если вы нашли этот проект полезным.**
